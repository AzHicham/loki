<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1390" height="682"><desc>title%20Diagram%20of%20PT%20Request%20Handling%20in%20Loki%0A%0Aactor%20Jormungandr%0Aparticipantgroup%20%23lightblue%20**Load%20Balancer**%0Aparticipant%20ZMQ_Worker%20(1%20Thread)%0Aparticipant%20LoadBalancer_Worker%20(1%20Thread)%0Aparticipant%20Compute_Worker%20(N%20Threads)%0Aend%0A%0AJormungandr-%3EZMQ_Worker%20(1%20Thread)%3Azmq_socket.rcv()%0Aactivate%20ZMQ_Worker%20(1%20Thread)%20%23gray%0Alinear%0AZMQ_Worker%20(1%20Thread)-%3ELoadBalancer_Worker%20(1%20Thread)%3A**requests_sender**%20-%3E%20**requests_receiver**%0Alinear%20off%0Adeactivate%20ZMQ_Worker%20(1%20Thread)%0A%0Aactivate%20LoadBalancer_Worker%20(1%20Thread)%20%23gray%0Alinear%0Aspace%0ALoadBalancer_Worker%20(1%20Thread)-%3ECompute_Worker%20(N%20Threads)%3A**worker_request_senders%5Bn%5D**%20-%3E%20**request_channel**%0Alinear%20off%0Adeactivate%20LoadBalancer_Worker%20(1%20Thread)%0A%0Aactivate%20Compute_Worker%20(N%20Threads)%20%23gray%0Alinear%0Aspace%0Anote%20right%20of%20Compute_Worker%20(N%20Threads)%3A%20Handle%20Request%0A%0ACompute_Worker%20(N%20Threads)-%3ELoadBalancer_Worker%20(1%20Thread)%3A%20**workers_response_receiver**%20%3C-%20**responses_channel**%20%0A%0Alinear%20off%0Adeactivate%20Compute_Worker%20(N%20Threads)%0A%0Aactivate%20LoadBalancer_Worker%20(1%20Thread)%20%23gray%0Alinear%0Aspace%0Aspace%20%0ALoadBalancer_Worker%20(1%20Thread)-%3EZMQ_Worker%20(1%20Thread)%3A**responses_receiver**%20%3C-%20**responses_sender**%0Alinear%20off%0Adeactivate%20LoadBalancer_Worker%20(1%20Thread)%0A%0A%0Aactivate%20ZMQ_Worker%20(1%20Thread)%20%23gray%0Alinear%0AJormungandr%3C-ZMQ_Worker%20(1%20Thread)%3Azmq_socket.send()%0Alinear%20off%0Adeactivate%20ZMQ_Worker%20(1%20Thread)</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="1390" height="682"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16.5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="476.95565470164274" y="22.6179738" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Diagram of PT Request Handling in Loki</text></g><g><g><path fill="lightblue" stroke="black" paint-order="fill stroke markers" d=" M 232.71572297529292 76.90111092000001 L 1333.8584552770433 76.90111092000001 L 1333.8584552770433 675.297304422 L 232.71572297529292 675.297304422 L 232.71572297529292 76.90111092000001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="724.6454227138146" y="98.0112198" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Load Balancer</text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 55.00599177529297 153.576042102 L 55.00599177529297 675.297304422" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 343.97371173024214 153.576042102 L 343.97371173024214 675.297304422" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 734.0287528205497 153.576042102 L 734.0287528205497 675.297304422" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1201.6171291197502 153.576042102 L 1201.6171291197502 675.297304422" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/></g><g><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 63.60082181929297 89.79335598600002 A 8.594830044 8.594830044 0 1 1 63.600817521878305 89.78476115738849 M 55.00599177529297 98.38818603000001 L 55.00599177529297 116.78413805400001 M 44.14936435129297 105.02279167800002 L 65.86261919929296 105.02279167800002 M 55.00599177529297 116.78413805400001 L 44.14936435129297 133.97379814200002 M 55.00599177529297 116.78413805400001 L 65.86261919929296 133.97379814200002" stroke-miterlimit="10" stroke-width="2.5633703640000003" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="7.5393246000000005" y="149.05244734200002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Jormungandr</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 240.2550475752929 112.86368926200002 L 447.6923758851914 112.86368926200002 L 447.6923758851914 153.57604210200003 L 240.2550475752929 153.57604210200003 L 240.2550475752929 112.86368926200002 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="256.6153819572929" y="138.49739290200003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">ZMQ_Worker (1 Thread)</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 597.5684199644286 112.86368926200002 L 870.4890856766708 112.86368926200002 L 870.4890856766708 153.57604210200003 L 597.5684199644286 153.57604210200003 L 597.5684199644286 112.86368926200002 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="613.9287543464286" y="138.49739290200003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">LoadBalancer_Worker (1 Thread)</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1076.9151275624572 112.86368926200002 L 1326.3191306770432 112.86368926200002 L 1326.3191306770432 153.57604210200003 L 1076.9151275624572 153.57604210200003 L 1076.9151275624572 112.86368926200002 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1093.2754619444572" y="138.49739290200003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Compute_Worker (N Threads)</text></g></g><g><path fill="gray" stroke="black" paint-order="fill stroke markers" d=" M 336.43438713024216 203.335584462 L 351.51303633024213 203.335584462 L 351.51303633024213 245.555802222 L 336.43438713024216 245.555802222 L 336.43438713024216 203.335584462" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><path fill="gray" stroke="black" paint-order="fill stroke markers" d=" M 726.4894282205497 245.555802222 L 741.5680774205497 245.555802222 L 741.5680774205497 325.472642982 L 726.4894282205497 325.472642982 L 726.4894282205497 245.555802222" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><path fill="gray" stroke="black" paint-order="fill stroke markers" d=" M 1194.07780451975 325.472642982 L 1209.1564537197503 325.472642982 L 1209.1564537197503 462.68835070200004 L 1194.07780451975 462.68835070200004 L 1194.07780451975 325.472642982" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><path fill="gray" stroke="black" paint-order="fill stroke markers" d=" M 726.4894282205497 462.68835070200004 L 741.5680774205497 462.68835070200004 L 741.5680774205497 580.301814462 L 726.4894282205497 580.301814462 L 726.4894282205497 462.68835070200004" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><path fill="gray" stroke="black" paint-order="fill stroke markers" d=" M 336.43438713024216 580.301814462 L 351.51303633024213 580.301814462 L 351.51303633024213 622.522032222 L 336.43438713024216 622.522032222 L 336.43438713024216 580.301814462" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="133.38685739099998" y="197.304124782" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">zmq_socket.rcv()</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 55.00599177529297 203.335584462 L 324.01963262224217 203.335584462" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(336.43438713024216,203.335584462) translate(-336.43438713024216,-203.335584462)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 323.86884613024216 197.05281396200002 L 336.43438713024216 203.335584462 L 323.86884613024216 209.618354962 Z"/></g></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="383.417904982" y="239.524342542" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">requests_sender</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="520.1345645278984" y="239.524342542" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> -&gt; </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="547.0678969711357" y="239.524342542" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">requests_receiver</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 351.51303633024213 245.555802222 L 714.0746737125497 245.555802222" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(726.4894282205497,245.555802222) translate(-726.4894282205497,-245.555802222)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 713.9238872205497 239.273031722 L 726.4894282205497 245.555802222 L 713.9238872205497 251.838572722 Z"/></g></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="773.6479388720663" y="319.441183302" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">worker_request_senders[n]</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="998.9646045214804" y="319.441183302" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> -&gt; </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="1025.8979369647177" y="319.441183302" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">request_channel</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 741.5680774205497 325.472642982 L 1181.66305001175 325.472642982" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(1194.07780451975,325.472642982) translate(-1194.07780451975,-325.472642982)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1181.5122635197501 319.189872482 L 1194.07780451975 325.472642982 L 1181.5122635197501 331.75541348200005 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1209.1564537197503 403.127686362 L 1216.6957783197504 403.127686362 M 1216.6957783197504 385.78723978200003 L 1361.3785446244574 385.78723978200003 L 1374.9493289044574 399.358024062 L 1374.9493289044574 420.468132942 L 1216.6957783197504 420.468132942 L 1216.6957783197504 385.78723978200003 M 1361.3785446244574 385.78723978200003 L 1361.3785446244574 399.358024062 L 1374.9493289044574 399.358024062" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1237.8058871997503" y="406.897348662" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Handle Request</text></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="761.6729430205496" y="456.6568910220001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">workers_response_receiver</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="985.7396086699637" y="456.6568910220001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> &lt;- </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="1012.672941113201" y="456.6568910220001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">responses_channel</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1169.306272412029" y="456.6568910220001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> </text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1194.07780451975 462.68835070200004 L 753.9828319285497 462.68835070200004" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(741.5680774205497,462.68835070200004) translate(-741.5680774205497,-462.68835070200004)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 754.1336184205497 456.405580202 L 741.5680774205497 462.68835070200004 L 754.1336184205497 468.97112120200006 Z"/></g></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="371.61790193024217" y="574.270354782" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">responses_receiver</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="530.9345675796562" y="574.270354782" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> &lt;- </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="557.8679000228935" y="574.270354782" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">responses_sender</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 726.4894282205497 580.301814462 L 363.9277908382421 580.301814462" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(351.51303633024213,580.301814462) translate(-351.51303633024213,-580.301814462)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 364.0785773302421 574.0190439620001 L 351.51303633024213 580.301814462 L 364.0785773302421 586.584584962 Z"/></g></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="126.97018945276756" y="616.490572542" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">zmq_socket.send()</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 336.43438713024216 622.522032222 L 67.42074628329297 622.522032222" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(55.00599177529297,622.522032222) translate(-55.00599177529297,-622.522032222)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 67.57153277529297 616.239261722 L 55.00599177529297 622.522032222 L 67.57153277529297 628.804802722 Z"/></g></g></g><g/><g/><g/><g/></g></svg>
